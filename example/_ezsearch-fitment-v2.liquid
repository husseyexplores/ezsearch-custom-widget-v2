{% comment %}
  Product Card:
    > {%- render '_ezsearch-fitment-v2', product: product, widget_type: 'inline' -%}
  
  PDP:
    > {%- render '_ezsearch-fitment-v2', product: product, widget_type: 'full' -%}
{% endcomment %}

{%- capture content -%}
  <ezsearch-fitment-v2 class="" data-ezs-widget-id="ezsearch-global-widget" data-tags="{{ product.tags | join: ','  }}" data-fitment-status="loading">
    <span data-when-state="loading"></span>
  
    <span data-when-state="no-selection">
      <span class="icon-with-text">
        {%- render 'icon', icon: 'custom-cogs'-%}
        <span>Add your vehicle to check fitment</span>
      </span>
    </span>
  
    <span data-when-state="not-fits">
      <span class="icon-with-text">
        {%- render 'icon', icon: 'custom-ezs-cross'-%}
        <span>Does not fit your <span data-ezs-item-title></span></span>
      </span>
    </span>
  
    <span data-when-state="fits">
      <span class="icon-with-text">
        {%- render 'icon', icon: 'check_mark_in_circle'-%}
        <span>Fits your <span data-ezs-item-title></span></span>
      </span>
    </span>
  </ezsearch-fitment-v2>
  {%- endcapture -%}
  
  {%- if widget_type == 'full' -%}
  <ezsearch-fitment-v2 class="EZS_Ftmnt" data-ezs-widget-id="ezsearch-global-widget" data-tags="{{ product.tags | join: ','  }}" data-fitment-status="loading">
  
    <!-- Good Result -->
    <button type="button" data-when-state="no-selection" onclick="window._ezs_change_vehicle_fn()">
      <span class="icon-with-text">
        {%- render 'icon', icon: 'custom-cogs'-%}
        <span>Add your vehicle to check fitment</span>
      </span>
    </button>
  
    <div class="EZS_Ftmnt-results">
      <!-- Good Result -->
      <div class="EZS_Ftmnt-result EZS_Ftmnt-result--good" data-when-state="fits">
        <div class="EZS_Ftmnt-result-content">
          <div class="EZS_Ftmnt-col--left">
            <div class="EZS_Ftmnt-icon">
              <svg width="18" viewBox="-3 -3 24 24" data-viewBox="0 0 18 18">
                <path d="M16.145,2.571c-0.272-0.273-0.718-0.273-0.99,0L6.92,10.804l-4.241-4.27 c-0.272-0.274-0.715-0.274-0.989,0L0.204,8.019c-0.272,0.271-0.272,0.717,0,0.99l6.217,6.258c0.272,0.271,0.715,0.271,0.99,0 L17.63,5.047c0.276-0.273,0.276-0.72,0-0.994L16.145,2.571z"></path>
              </svg>
            </div>
          </div>
  
          <div class="EZS_Ftmnt-col--right">
            <h4 class="EZS_Ftmnt-result-title">FITS YOUR: </h4>
            <div data-ezs-item-title></div>
  
            <button class="EZS_Inline-btn" type="button" data-ezs-goto-mode="selection" onclick="window._ezs_change_vehicle_fn()">(Change vehicle)</button>
          </div>
        </div>
        
      </div>
  
      <!-- Bad Result -->
      <div class="EZS_Ftmnt-result EZS_Ftmnt-result--bad" data-when-state="not-fits">
        <div class="EZS_Ftmnt-result-content">
          <div class="EZS_Ftmnt-icon">
            <svg width="18" viewBox="0 0 512 512">
              <path d="M289.94,256l95-95A24,24,0,0,0,351,127l-95,95-95-95A24,24,0,0,0,127,161l95,95-95,95A24,24,0,1,0,161,385l95-95,95,95A24,24,0,0,0,385,351Z"></path>
            </svg>
          </div>
  
          <div>
            <h4 class="EZS_Ftmnt-result-title">DOES NOT FIT YOUR: </h4>
            <div data-ezs-item-title></div>
  
            <button class="EZS_Inline-btn" type="button" data-ezs-goto-mode="selection" onclick="window._ezs_change_vehicle_fn()">(Change vehicle)</button>
          </div>
        </div>
  
        <div class="EZS_Ftmnt-result-footer">
          <a href="#" data-ezs-filtered-href>
            Find products that fit your vehicle
          </a>
        </div>
      </div>
    </div>
  </ezsearch-fitment-v2>
  {%- else -%}
    {{- content -}}
  {%- endif -%}
  